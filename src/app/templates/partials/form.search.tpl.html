<div class="modal fade" id="searchModal" tabindex="-1" role="dialog" aria-labelledby="searchFormLabel" aria-hidden="true" ng-controller="SearchController">
    <div class="modal-dialog">
        <div class="modal-content">
            <form role="form" name="searchForm" novalidate ng-submit="search()">
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="search_folder">Folder</label>
                                <select name="search_folder" id="search_folder" class="form-control">
                                    <optgroup label="Default">
                                        <option value="-1" selected="selected">All</option>
                                    </optgroup>
                                    <optgroup label="Folders">
                                        <option ng-repeat="(key, value) in folders" value="{{folder}}">{{key}}</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="search_label">Label</label>
                                <select name="search_label" id="search_label" class="form-control">
                                    <optgroup label="Default">
                                        <option value="0">All Messages</option>
                                    </optgroup>
                                    <optgroup label="Labels">
                                        <option value="{{label.LabelID}}" ng-repeat="label in labels">{{label.LabelName}}</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div>
                                <label for="">Between</label>
                                <div class="fluid-container">
                                    <div class="row">
                                        <div class="col-md-6 form-group">
                                            <input pikaday="params.begin" name="begin" on-select="setMin()" class="form-control" placeholder="From" />
                                        </div>
                                        <div class="col-md-6 form-group">
                                            <input pikaday="params.end" name="end" on-select="setMax()" class="form-control" placeholder="Until" />
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="">Attachments</label>
                                <div class="radio">
                                    <label for="attachments_yes" class="radio-inline">
                                        <input id="attachments_yes" type="radio" name="attachments" ng-model="params.attachments" value="1" /> Yes
                                    </label>
                                    <label for="attachments_no" class="radio-inline">
                                        <input id="attachments_no" type="radio" name="attachments" ng-model="params.attachments" value="0" /> No
                                    </label>
                                    <label for="attachments_all" class="radio-inline">
                                        <input id="attachments_all" type="radio" name="attachments" ng-model="params.attachments" value="2" /> All
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="search_sender">Sender</label>
                                <input type="text" id="search_sender" name="search_sender" class="form-control" ng-model="params.from" placeholder="From" />
                            </div>
                            <div class="form-group">
                                <label for="search_recipient">Recipient</label>
                                <input type="text" id="search_recipient" name="search_recipient" class="form-control" ng-model="params.to" placeholder="To" />
                            </div>
                            <div class="form-group">
                                <label for="search_subject">Subject</label>
                                <input type="text" id="search_subject" name="search_subject" class="form-control" ng-model="params.subject" placeholder="Subject" />
                            </div>
                            <div class="form-group">
                                <label for="">Is Starred</label>
                                <div class="radio">
                                    <label for="starred_yes" class="radio-inline">
                                        <input id="starred_yes" type="radio" name="starred" ng-model="params.starred" value="1" /> Yes
                                    </label>
                                    <label for="starred_no" class="radio-inline">
                                        <input id="starred_no" type="radio" name="starred" ng-model="params.starred" value="0" /> No
                                    </label>
                                    <label for="starred_all" class="radio-inline">
                                        <input id="starred_all" type="radio" name="starred" ng-model="params.starred" value="2" /> All
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <a href="" class="btn" data-dismiss="modal">Cancel</a>
                    <button type="submit" class="btn btn-primary" ng-class="{disabled: networkActivity.loading()}">
                        <i class="fa fa-search" ng-hide="networkActivity.loading()"></i><i class="fa fa-circle-o-notch fa-spin" ng-show="networkActivity.loading()"></i> <span>Advanced Search</span>
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
