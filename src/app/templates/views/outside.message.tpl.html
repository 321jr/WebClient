<div id="outsideMessageWrap">
    <div ng-if="true" id="expirationMessage">
        This message expires in
        <strong time="{{ message.ExpirationTime * 1000}}" interval="1000" filter="delay">
            <i class="fa fa-spin fa-circle-o-notch"></i>
        </strong>.
    </div>
    <div class="message-head">
        <a href ng-click="reply()" class="pm_button pull-right">
            <i class="fa fa-reply"></i>
            <span class="visible-md-inline-block visible-lg-inline-block">
                {{ 'REPLY' | translate }}
            </span>
        </a>
        <h1 class="no-margin-bottom">
            <span class="attachement" ng-show="message.Attachments.length > 0">
                <i class="fa fa-paperclip"></i>
            </span>
            <span ng-bind-html="message.Subject"></span>
        </h1>
    </div>
    <div class="message-metadata">
        <ul class="infos">
            <li>
                <strong>{{ 'FROM' | translate }}</strong>
                <b>{{ message.Sender.Name }}</b> &lt;{{ message.Sender.Address }}&gt;
                <span class="fa fa-check-circle verified" pt-tooltip="ProtonMail Verified"></span>
            </li>
            <li ng-if="message.ToList.length > 0">
                <strong>{{ 'TO' | translate }}</strong>
                <span ng-repeat="email in message.ToList">
                    <b>{{ email.Name }}</b> &lt;{{ email.Address }}&gt;
                </span>
            </li>
            <li ng-if="message.CCList.length > 0">
                <strong>{{ 'CC' | translate }}</strong>
                <span ng-repeat="email in message.CCList">
                    <b>{{ email.Name }}</b> &lt;{{ email.Address }}&gt;
                </span>
            </li>
        </ul>
    </div>
    <div class="alert alert-warning text-center" ng-show="!!imagesHidden" id="showImages">
        <a href="" ng-click="toggleImages()">
            <span ng-show="!!imagesHidden">{{ 'SHOW_IMAGES' | translate }}</span>
            <span ng-hide="!!imagesHidden">{{ 'HIDE_IMAGES' | translate }}</span>
        </a>
    </div>
    <div id="outsideMessage">
        <div id="message-body">
            <div class="email" ng-bind-html="message.Body | purify" transform-links="{{ message.Body }}" hide-first-blockquote="{{ message.Body }}"></div>
        </div>
    </div><!--/#outsideMessage-->
    <ng-include src="'templates/partials/attachments.tpl.html'"></ng-include>
    <div id="eo_footer">
    </div>
</div>

<ng-include src="'templates/partials/footer.tpl.html'"></ng-include>
