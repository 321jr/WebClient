<div ng-hide="inputResetToken" class="">
    <p class="alert alert-info wrap" translate="RECOVERY_INSTRUCTIONS"></p>
    <form method="post"
    name="reset"
    novalidate
    ng-submit="resetLostPassword(reset)"
    class="pm_form pm_panel"
     >
        <h3 class="text-center margin">{{ 'RESET_LOGIN_PASSWORD' | translate }}</h3>
        <div ng-show="reset.$submitted || reset.username.$touched">
            <p ng-show="reset.username.$error.required" class="alert alert-danger">{{ 'USERNAME_IS_REQUIRED' | translate }}.</p>
        </div>
        <div ng-show="reset.$submitted || reset.recoveryEmail.$touched">
            <p ng-show="!!!tools.validEmail(params.recoveryEmail)" class="alert alert-danger">{{ 'INVALID_EMAIL' | translate }}.</p>
        </div>
        <div class="margin">
            <input tabindex="1" id="username" autofocus="" name="username" type="text" class="form-control" placeholder="Username" ng-model="params.username" required="" />
        </div>
        <div class="margin">
            <input tabindex="2" id="recoveryEmail" name="recoveryEmail" type="email" class="form-control" placeholder="{{ 'RECOVERY_EMAIL' | translate }}" ng-model="params.recoveryEmail" required="" validator="!!!tools.validEmail(params.recoveryEmail)" />
        </div>
        <button tabindex="3" class="pm_button primary pull-right" type="submit" ng-class="{disabled: networkActivity.loading()}">{{ 'RESET_LOGIN_PASSWORD' | translate }}</button>
    </form>
</div>


<div ng-show="inputResetToken && !newLoginInput" class="">
    <p class="alert alert-info wrap">{{ 'LOGIN_RESET_INSTRUCTIONS' | translate }}</p>
    <form method="post"
    ng-submit="resetLoginPass(loginTokenForm)"
    name="loginTokenForm"
    class="pm_form pm_panel"
     >
        <h3 class="text-center margin">{{ 'RESET_LOGIN_PASSWORD' | translate }}</h3>
        <div class="margin">
            <label for="resetLoginCode">{{ 'VERIFICATION_CODE' | translate }}</label>
            <input type="text" ng-model="params.resetLoginCode" id="resetLoginCode" class="form-control">
        </div>
        <button type="submit" class="pm_button primary pull-right">{{ 'RESET_LOGIN_PASSWORD' | translate }}</button>
    </form>
</div>


<div ng-show="newLoginInput" class="">
    <p>&nbsp;</p>
    <form method="post"
    ng-submit="confirmNewPassword(finishLPWReset)"
    name="finishLPWReset"
    class="pm_form pm_panel"
     >
        <h3 class="text-center margin">{{ 'RESET_LOGIN_PASSWORD' | translate }}</h3>
        <div ng-show="finishLPWReset.$submitted || finishLPWReset.password.$touched">
            <p ng-show="finishLPWReset.password.$error.required" class="alert alert-danger">{{ 'LOGIN_PW_REQ' | translate }}.</p>
        </div>
        <div ng-show="finishLPWReset.$submitted || finishLPWReset.passwordc.$touched">
            <p ng-show="params.loginPassword !== params.loginPasswordConfirm" class="alert alert-danger">{{ 'PASSWORDS_DONT_MATCH' | translate }}</p>
        </div>
        <div class="form-group margin">
            <input id="password" name="password" ng-model="params.loginPassword" tabindex="1" type="password" class="form-control"  placeholder="Password" autofocus="" required="" />
        </div>
        <div class="form-group margin">
            <input id="passwordc" name="passwordc" ng-model="params.loginPasswordConfirm" tabindex="2" type="password" class="form-control"  placeholder="Confirm Password" required="" ng-enter="finishLoginReset(finishLPWReset)" />
        </div>
        <button type="submit" class="pm_button primary pull-right" ng-class="{disabled: networkActivity.loading()}">{{ 'RESET_LOGIN_PASSWORD' | translate }}</button>
    </form>
</div>
