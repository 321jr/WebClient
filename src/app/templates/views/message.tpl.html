<ng-include src="'templates/partials/messageViewToolbar.tpl.html'" class="message-view-toolbar"></ng-include>

<div class="message-head">
  <pre ng-show="messageHeadState == 'open' && showHeaders">{{ message.Header }}</pre>
  <div class="pull-right message-actions">
    <a href="#" class="btn btn-default"><i class="fa fa-reply"></i> Reply</a>
    <a href="#" class="btn btn-default"><i class="fa fa-reply-all"></i> Reply all</a>
    <a href="#" class="btn btn-default"><i class="fa fa-mail-forward"></i> Forward</a>
  </div>
  <h1>
    <a href="#" class="back" ng-click="goToMessageList()"><i class="fa fa-chevron-left"></i></a>
    <a href="#" ng-click="message.toggleStar()"><i class="fa {{ (message.Tag == 'starred') ? 'fa-star' : 'fa-star-o' }}"></i></a> 
    {{ message.MessageTitle }}
  </h1>
  <ul class="infos" ng-if="messageHeadState == 'open'">
    <li><strong>From</strong> 
      <span btf-markdown="message.Sender | contrast:'<'"></span>
    </li>
    <li><strong>To</strong>
      <span btf-markdown="message.RecipientList | contrast:'<'"></span>
    </li>
    <li><strong>At</strong>
      <span btf-markdown="message.longReadableTime() | contrast:'('"></span>
    </li>
  </ul>
  <div class="toggle-head" ng-click="toggleHead()" ng-class="{open: messageHeadState == 'open'}">
    <i class="fa" ng-class="{'fa-angle-double-down': messageHeadState == 'close', 'fa-angle-double-up': messageHeadState == 'open'}"></i>
  </div><!--/.toggle-head-->
</div><!--/.message-head-->
<div id="message-body">
  <iframe src=""></iframe>
</div>
