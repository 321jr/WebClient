<div id="pm_contacts" ng-height>

    <div class="wrap">

        <div ng-include src="'templates/partials/toolbar-contacts.tpl.html'"></div>

        <!-- TODO: need styles for alerts. ui kit psd has them? -->
        <p class="alert alert-info text-center" ng-if="contacts.length === 0 && params.searchContactInput.length === 0">You have no contacts.</p>
        <p class="alert alert-info text-center" ng-if="contacts.length === 0 && params.searchContactInput.length > 0">No results for "{{ params.searchContactInput }}" in your contacts.</p>

        <table ng-if="contacts.length > 0" class="pm_table">

            <thead>
                <tr>
                    <th class="text-center hidden-xs checkbox"></th>
                    <th class="name" ng-init="sortName = false">
                        <span>
                            <a ng-show="sortName" ng-click="setSortBy('Name'); sortName = !sortName" pt-tooltip="{{ 'SORT_ASCENDING' | translate }}">
                                <i class="fa fa-sort"></i>
                            </a>
                            <a ng-show="!sortName" ng-click="setSortBy('-Name'); sortName = !sortName" pt-tooltip="{{ 'SORT_DESCENDING' | translate }}">
                                <i class="fa fa-sort"></i>
                            </a>
                            {{ 'NAME' | translate }}
                        </span>
                    </th>
                    <th class="email" ng-init="sortEmail = false">
                        <a ng-show="sortEmail" ng-click="setSortBy('Email'); sortEmail = !sortEmail" pt-tooltip="{{ 'SORT_ASCENDING' | translate }}">
                            <i class="fa fa-sort"></i>
                        </a>
                        <a ng-show="!sortEmail" ng-click="setSortBy('-Email'); sortEmail = !sortEmail" pt-tooltip="{{ 'SORT_DESCENDING' | translate }}">
                            <i class="fa fa-sort"></i>
                        </a>
                        {{ 'EMAIL' | translate }}
                    </th>
                    <th class="text-right actions">{{ 'ACTIONS' | translate }}</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="contact in contacts">
                    <td class="text-center hidden-xs checkbox">
                        <label>
                            <input type="checkbox" ng-model="contact.selected" ng-click="onSelectContact($event, contact)" />
                        </label>
                    </td>
                    <td class="name">
                        <span title="{{ contact.Name }}">{{ contact.Name }}</span>
                    </td>
                    <td class="text-muted email">
                        <span title="contact.Email">{{ contact.Email }}</span>
                    </td>
                    <td class="text-right actions">
                        <span>
                            <a class="pm_button round" pt-tooltip="{{ 'EDIT' | translate }}" ng-click="editContact(contact)">
                                <i class="fa fa-edit"></i>
                            </a>
                            <a class="pm_button round" pt-tooltip="{{ 'DELETE' | translate }}" class="divider" ng-click="deleteContacts(contact)">
                                <i class="fa fa-trash-o"></i>
                            </a>
                            <a class="pm_button round" pt-tooltip="{{ 'COMPOSE' | translate }}" class="divider" ng-click="sendMessageTo(contact)">
                                <i class="fa fa-envelope-o"></i>
                            </a>
                        </span>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>
