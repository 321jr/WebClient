<form method="post" class="searchForm-container" ng-submit="searchMessages()" ng-class="{ 'searchForm-container-adv': advancedSearch }" adv-search>
    <div class="search-form-fieldset">
        <button type="button" class="searchForm-action-button searchForm-toggle-advanced" ng-click="toggleAdvancedSearch();" pt-tooltip-translate-context="Action" pt-tooltip-translate="Advanced search" pt-placement="bottom">
            <i class="fa" ng-class="{'fa-angle-down': advancedSearch === false, 'fa-angle-up': advancedSearch === true}"></i>
        </button>
        <input type="search" placeholder-translate="Search messages" autocomplete="off" ng-model="params.searchMessageInput" ng-keyup="$event.which === 27 && blurSearch($event)" class="search-form-fieldset-input" />
        <button type="submit" class="searchForm-action-button searchForm-action-button-default" ng-show="advancedSearch !== true">
            <i class="fa fa-search"></i>
        </button>
        <button type="button" class="searchForm-action-button searchForm-action-button-advanced" ng-show="advancedSearch === true" ng-click="closeSearchModal()">
            <i class="fa fa-times"></i>
        </button>
    </div>
    <div class="searchForm-advanced-container pm_form pm_grid" ng-show="advancedSearch === true">
        <div class="searchForm-advanced-wrapper">
            <div class="row">
                <div class="col-1-2">
                    <label for="search_keywords" translate translate-context="Title">Keywords</label>
                    <input id="search_keywords" type="text" placeholder-translate="Keywords" ng-model="ctrl.keyword" />
                </div>
                <div class="col-1-2">
                    <label for="search_folder" translate translate-context="Title">Location</label>
                    <span class="pm_select">
                        <select id="search_folder" ng-model="ctrl.folder" ng-options="folder.label group by folder.group for folder in ctrl.folders"></select>
                        <i class="fa fa-angle-down"></i>
                    </span>
                </div>
            </div>
            <div class="row margin">
                <div class="col-1-2">
                    <label for="search_sender" translate translate-context="Title">Sender</label>
                    <input type="text" id="search_sender" ng-model="ctrl.from" placeholder-translate="From">
                </div>
                <div class="col-1-2">
                    <label for="search_recipient" translate translate-context="Title">Recipient</label>
                    <input type="text" id="search_recipient" ng-model="ctrl.to" placeholder-translate="To">
                </div>
            </div>
            <div class="row margin">
                <div class="col-1-2">
                    <label for="search_start" translate translate-context="Title">Start date</label>
                    <span class="input-icon">
                        <em class="fa fa-calendar" ng-click="focusStart()"></em>
                        <input type="text" placeholder-translate="MM/DD/YYYY" pikaday="ctrl.start" id="search_start" on-select="setMin()" class="ng-isolate-scope">
                    </span>
                </div>
                <div class="col-1-2">
                    <label for="search_end" translate translate-context="Title">End date</label>
                    <span class="input-icon">
                        <em class="fa fa-calendar" ng-click="focusEnd()"></em>
                        <input type="text" placeholder-translate="MM/DD/YYYY" pikaday="ctrl.end" id="search_end" on-select="setMax()" class="ng-isolate-scope">
                    </span>
                </div>
            </div>
            <div class="row">
                <div class="col-1-2">
                    <label for="search_address" translate translate-context="Title">Address</label>
                    <span class="pm_select">
                        <select id="search_address" ng-model="ctrl.address" ng-options="address.Email for address in addresses | filter: {Status: 1, Receive: 1} | orderBy: 'Send'"></select>
                        <i class="fa fa-angle-down"></i>
                    </span>
                </div>
                <div class="col-1-2">
                    <label translate translate-context="Title" translate-comment="Search form option heading">Attachments</label>
                    <div class="radio searchFrom-advanced-radio">
                        <label>
                            <custom-radio data-custom-id="attachments_all" data-custom-ng-model="ctrl.attachments" data-custom-value="2"></custom-radio>
                            <span translate translate-comment="form option">All</span>
                        </label>
                        <label>
                            <custom-radio data-custom-id="attachments_yes" data-custom-ng-model="ctrl.attachments" data-custom-value="1"></custom-radio>
                            <span translate translate-comment="form option">Yes</span>
                        </label>
                        <label>
                            <custom-radio data-custom-id="attachments_no" data-custom-ng-model="ctrl.attachments" data-custom-value="0"></custom-radio>
                            <span translate translate-comment="form option">No</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="text-right">
                    <button type="submit" class="pm_button primary">
                        <i class="fa fa-search"></i>
                        <span translate translate-context="Action">Search</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</form>
