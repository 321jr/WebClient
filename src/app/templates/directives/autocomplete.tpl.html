<div class="container-email">
    <label class="input-email" for="autocomplete{{ $id }}">
        <span ng-repeat="email in emails" class="label-email" ng-class="{invalid: email.invalid === true}" title="{{ email | contact }}">
            <span ng-bind="email | contact: 'Name'"></span>
            <a ng-click="onRemove($index)">
                <i class="fa fa-times"></i>
            </a>
        </span>
        <form method="post" class="form-email">
            <input type="text" id="autocomplete{{ $id }}" class="new-value-email" name="email-autocomplete" ng-model="params.newValue" ng-model-options="{ updateOn: 'default blur', debounce: { 'default': 100, 'blur': 0 } }" ng-keydown="onKeyDown($event)" ng-keyup="onKeyUp($event)" ng-blur="onBlur()" ng-change="onChange()" spellcheck="false" autocapitalize="off" autocomplete="false" role="combobox" />
        </form>
    </label>
    <ul class="autocomplete-email" ng-show="params.contactsFiltered.length > 0">
        <li ng-repeat="email in params.contactsFiltered" ng-class="{selected: $index === params.selected}">
            <a ng-click="onClick(email)" ng-bind-html="email | contact | highlight: params.newValue"></a>
        </li>
    </ul>
</div>
